<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>CAS Exam 7 Study Notes</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="CAS exam 7 study notes for 2017 Spring sitting.">
  <meta name="generator" content="bookdown 0.3.7 and GitBook 2.6.7">

  <meta property="og:title" content="CAS Exam 7 Study Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="CAS exam 7 study notes for 2017 Spring sitting." />
  <meta name="github-repo" content="cliffordlau/Exam-7-2016-Notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="CAS Exam 7 Study Notes" />
  
  <meta name="twitter:description" content="CAS exam 7 study notes for 2017 Spring sitting." />
  

<meta name="author" content="Cliff Lau">


<meta name="date" content="2017-03-15">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="conclusion.html">
<link rel="next" href="past-exam-questions.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CAS Exam 7 Study Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="part"><span><b>I Estimation of Policy Liabilities</b></span></li>
<li class="chapter" data-level="1" data-path="loss-development-using-credibility-e-brosius.html"><a href="loss-development-using-credibility-e-brosius.html"><i class="fa fa-check"></i><b>1</b> Loss Development Using Credibility - E. Brosius</a></li>
<li class="chapter" data-level="2" data-path="credible-claims-reserve-the-benktander-method-t-mack.html"><a href="credible-claims-reserve-the-benktander-method-t-mack.html"><i class="fa fa-check"></i><b>2</b> Credible Claims Reserve: The Benktander Method - T. Mack</a></li>
<li class="chapter" data-level="3" data-path="credible-claims-reserve-benktander-neuhaus-and-mack-w-hurlimann.html"><a href="credible-claims-reserve-benktander-neuhaus-and-mack-w-hurlimann.html"><i class="fa fa-check"></i><b>3</b> Credible Claims Reserve: Benktander, Neuhaus and Mack - W. Hurlimann</a></li>
<li class="chapter" data-level="4" data-path="measuring-the-variability-of-chain-ladder-reserve-estimate-t-mack.html"><a href="measuring-the-variability-of-chain-ladder-reserve-estimate-t-mack.html"><i class="fa fa-check"></i><b>4</b> Measuring the Variability of Chain Ladder Reserve Estimate - T. Mack</a></li>
<li class="chapter" data-level="5" data-path="testing-the-assumptions-of-age-to-age-factors-g-venter.html"><a href="testing-the-assumptions-of-age-to-age-factors-g-venter.html"><i class="fa fa-check"></i><b>5</b> Testing the Assumptions of Age-to-Age Factors - G. Venter</a></li>
<li class="chapter" data-level="6" data-path="ldf-curve-fitting-and-stochastic-reserving-a-maximum-likelihood-approach-d-clark.html"><a href="ldf-curve-fitting-and-stochastic-reserving-a-maximum-likelihood-approach-d-clark.html"><i class="fa fa-check"></i><b>6</b> LDF Curve-Fitting and Stochastic Reserving: A Maximum Likelihood Approach - D. Clark</a></li>
<li class="chapter" data-level="7" data-path="a-model-for-reserving-workers-compensation-high-deductibles-j-siewert.html"><a href="a-model-for-reserving-workers-compensation-high-deductibles-j-siewert.html"><i class="fa fa-check"></i><b>7</b> A Model for Reserving Workers Compensation High Deductibles - J. Siewert</a></li>
<li class="chapter" data-level="8" data-path="claims-development-by-layer-r-sahasrabuddhe.html"><a href="claims-development-by-layer-r-sahasrabuddhe.html"><i class="fa fa-check"></i><b>8</b> Claims Development by Layer - R. Sahasrabuddhe</a></li>
<li class="chapter" data-level="9" data-path="using-the-odp-bootstrap-model-a-practitioners-guide.html"><a href="using-the-odp-bootstrap-model-a-practitioners-guide.html"><i class="fa fa-check"></i><b>9</b> Using the ODP Bootstrap Model: A Practitioner’s Guide</a></li>
<li class="chapter" data-level="10" data-path="obtaining-predictive-distributions-for-reserves-which-incorporate-expert-opinions-r-verrall.html"><a href="obtaining-predictive-distributions-for-reserves-which-incorporate-expert-opinions-r-verrall.html"><i class="fa fa-check"></i><b>10</b> Obtaining Predictive Distributions for Reserves Which Incorporate Expert Opinions - R. Verrall</a></li>
<li class="chapter" data-level="11" data-path="stochastic-loss-reserving-using-bayesian-mcmc-models-g-meyer.html"><a href="stochastic-loss-reserving-using-bayesian-mcmc-models-g-meyer.html"><i class="fa fa-check"></i><b>11</b> Stochastic Loss Reserving Using Bayesian MCMC Models - G. Meyer</a><ul>
<li class="chapter" data-level="11.1" data-path="introduction-synopsis.html"><a href="introduction-synopsis.html"><i class="fa fa-check"></i><b>11.1</b> Introduction &amp; Synopsis</a></li>
<li class="chapter" data-level="11.2" data-path="data-set.html"><a href="data-set.html"><i class="fa fa-check"></i><b>11.2</b> Data Set</a></li>
<li class="chapter" data-level="11.3" data-path="meyers-test.html"><a href="meyers-test.html"><i class="fa fa-check"></i><b>11.3</b> Testing Procedure</a><ul>
<li class="chapter" data-level="11.3.1" data-path="meyers-test.html"><a href="meyers-test.html#meyers-ks-test"><i class="fa fa-check"></i><b>11.3.1</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="11.3.2" data-path="meyers-test.html"><a href="meyers-test.html#p-p-plot"><i class="fa fa-check"></i><b>11.3.2</b> <em>p-p</em> Plot</a></li>
<li class="chapter" data-level="11.3.3" data-path="meyers-test.html"><a href="meyers-test.html#percentile-histogram"><i class="fa fa-check"></i><b>11.3.3</b> Percentile Histogram</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="model-summary-meyers.html"><a href="model-summary-meyers.html"><i class="fa fa-check"></i><b>11.4</b> Models Comparison Summary</a><ul>
<li class="chapter" data-level="11.4.1" data-path="model-summary-meyers.html"><a href="model-summary-meyers.html#meyers-mack"><i class="fa fa-check"></i><b>11.4.1</b> Mack Model</a></li>
<li class="chapter" data-level="11.4.2" data-path="model-summary-meyers.html"><a href="model-summary-meyers.html#meyers-odp"><i class="fa fa-check"></i><b>11.4.2</b> ODP Bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="bayesian-models-cumulative.html"><a href="bayesian-models-cumulative.html"><i class="fa fa-check"></i><b>11.5</b> Bayesian Models (Cumulative)</a><ul>
<li class="chapter" data-level="11.5.1" data-path="bayesian-models-cumulative.html"><a href="bayesian-models-cumulative.html#meyers-lcl"><i class="fa fa-check"></i><b>11.5.1</b> Leveled Chain Ladder</a></li>
<li class="chapter" data-level="11.5.2" data-path="bayesian-models-cumulative.html"><a href="bayesian-models-cumulative.html#meyers-ccl"><i class="fa fa-check"></i><b>11.5.2</b> Correlated Chain-Ladder</a></li>
<li class="chapter" data-level="11.5.3" data-path="bayesian-models-cumulative.html"><a href="bayesian-models-cumulative.html#meyers-csr"><i class="fa fa-check"></i><b>11.5.3</b> Changing Settlement Rate</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="skewed-distribution.html"><a href="skewed-distribution.html"><i class="fa fa-check"></i><b>11.6</b> Skewed Distribution</a><ul>
<li class="chapter" data-level="11.6.1" data-path="skewed-distribution.html"><a href="skewed-distribution.html#skewed-normal-distribution"><i class="fa fa-check"></i><b>11.6.1</b> Skewed Normal Distribution</a></li>
<li class="chapter" data-level="11.6.2" data-path="skewed-distribution.html"><a href="skewed-distribution.html#mixed-lognormal-normal"><i class="fa fa-check"></i><b>11.6.2</b> Mixed Lognormal-Normal</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="bayesian-models-incremental.html"><a href="bayesian-models-incremental.html"><i class="fa fa-check"></i><b>11.7</b> Bayesian Models (Incremental)</a><ul>
<li class="chapter" data-level="11.7.1" data-path="bayesian-models-incremental.html"><a href="bayesian-models-incremental.html#meyers-cit"><i class="fa fa-check"></i><b>11.7.1</b> Correlated Incremental Trend</a></li>
<li class="chapter" data-level="11.7.2" data-path="bayesian-models-incremental.html"><a href="bayesian-models-incremental.html#meyers-lit"><i class="fa fa-check"></i><b>11.7.2</b> Leveled Incremental Trend</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="process-parameter-and-model-risk.html"><a href="process-parameter-and-model-risk.html"><i class="fa fa-check"></i><b>11.8</b> Process, Parameter, and Model Risk</a></li>
<li class="chapter" data-level="11.9" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>11.9</b> Conclusion</a><ul>
<li class="chapter" data-level="11.9.1" data-path="conclusion.html"><a href="conclusion.html#results-summary"><i class="fa fa-check"></i><b>11.9.1</b> Results Summary</a></li>
<li class="chapter" data-level="11.9.2" data-path="conclusion.html"><a href="conclusion.html#final-comments"><i class="fa fa-check"></i><b>11.9.2</b> Final Comments</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="appendix-b-intro-to-bayesian-mcmc-models.html"><a href="appendix-b-intro-to-bayesian-mcmc-models.html"><i class="fa fa-check"></i><b>11.10</b> Appendix B: Intro to Bayesian MCMC Models</a><ul>
<li class="chapter" data-level="11.10.1" data-path="appendix-b-intro-to-bayesian-mcmc-models.html"><a href="appendix-b-intro-to-bayesian-mcmc-models.html#how-bayesian-mcmc-works-in-practice"><i class="fa fa-check"></i><b>11.10.1</b> How Bayesian MCMC works in practice</a></li>
<li class="chapter" data-level="11.10.2" data-path="appendix-b-intro-to-bayesian-mcmc-models.html"><a href="appendix-b-intro-to-bayesian-mcmc-models.html#meyers-mh-algo"><i class="fa fa-check"></i><b>11.10.2</b> Metropolis-Hastings Algorithm</a></li>
<li class="chapter" data-level="11.10.3" data-path="appendix-b-intro-to-bayesian-mcmc-models.html"><a href="appendix-b-intro-to-bayesian-mcmc-models.html#usecase-example-for-actuaries"><i class="fa fa-check"></i><b>11.10.3</b> Usecase Example for Actuaries</a></li>
<li class="chapter" data-level="11.10.4" data-path="appendix-b-intro-to-bayesian-mcmc-models.html"><a href="appendix-b-intro-to-bayesian-mcmc-models.html#bayesian-interence-using-gibbs-sampling-bugs"><i class="fa fa-check"></i><b>11.10.4</b> Bayesian interence Using Gibbs Sampling (BUGS)</a></li>
</ul></li>
<li class="chapter" data-level="11.11" data-path="past-exam-questions.html"><a href="past-exam-questions.html"><i class="fa fa-check"></i><b>11.11</b> Past Exam Questions</a><ul>
<li class="chapter" data-level="11.11.1" data-path="past-exam-questions.html"><a href="past-exam-questions.html#question-highlights"><i class="fa fa-check"></i><b>11.11.1</b> Question Highlights</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="a9-a-framework-for-assessing-risk-margins-k-marshall-et-al-.html"><a href="a9-a-framework-for-assessing-risk-margins-k-marshall-et-al-.html"><i class="fa fa-check"></i><b>12</b> A9 A Framework for Assessing Risk Margins - K. Marshall et al.</a></li>
<li class="chapter" data-level="13" data-path="reinsurance-loss-reserving-patrik.html"><a href="reinsurance-loss-reserving-patrik.html"><i class="fa fa-check"></i><b>13</b> Reinsurance Loss Reserving - Patrik</a></li>
<li class="chapter" data-level="14" data-path="a13-estimating-the-premium-asset-on-retrospectively-rate-policies-m-teng-and-m-perkins.html"><a href="a13-estimating-the-premium-asset-on-retrospectively-rate-policies-m-teng-and-m-perkins.html"><i class="fa fa-check"></i><b>14</b> A13 Estimating the Premium Asset on Retrospectively Rate Policies - M. Teng and M. Perkins</a></li>
<li class="part"><span><b>II Insurance Company Valuation</b></span></li>
<li class="chapter" data-level="15" data-path="b1-pc-insurance-company-valuation-r-goldfarb.html"><a href="b1-pc-insurance-company-valuation-r-goldfarb.html"><i class="fa fa-check"></i><b>15</b> B1 P&amp;C Insurance Company Valuation - R. Goldfarb</a></li>
<li class="part"><span><b>III Enterprise Risk Management</b></span></li>
<li class="chapter" data-level="16" data-path="c1-era-1-1-1-3-introduction-brehm-et-al-.html"><a href="c1-era-1-1-1-3-introduction-brehm-et-al-.html"><i class="fa fa-check"></i><b>16</b> C1 ERA 1.1 - 1.3 Introduction - Brehm, et al.</a></li>
<li class="chapter" data-level="17" data-path="c2-era-2-1-corporate-decision-making-using-an-enterprise-risk-model-don-mango.html"><a href="c2-era-2-1-corporate-decision-making-using-an-enterprise-risk-model-don-mango.html"><i class="fa fa-check"></i><b>17</b> C2 ERA 2.1 Corporate Decision Making Using an Enterprise Risk Model - Don Mango</a></li>
<li class="chapter" data-level="18" data-path="c2-era-2-2-risk-measures-and-capital-allocation-g-venter.html"><a href="c2-era-2-2-risk-measures-and-capital-allocation-g-venter.html"><i class="fa fa-check"></i><b>18</b> C2 ERA 2.2 Risk Measures and Capital Allocation - G. Venter</a></li>
<li class="chapter" data-level="19" data-path="c2-era-2-3-regulatory-and-rating-agency-capital-adequacy-models-witcraft.html"><a href="c2-era-2-3-regulatory-and-rating-agency-capital-adequacy-models-witcraft.html"><i class="fa fa-check"></i><b>19</b> C2 ERA 2.3 Regulatory and Rating Agency Capital Adequacy Models - Witcraft</a></li>
<li class="chapter" data-level="20" data-path="c2-era-2-4-asset-liability-management-brehm.html"><a href="c2-era-2-4-asset-liability-management-brehm.html"><i class="fa fa-check"></i><b>20</b> C2 ERA 2.4 Asset-Liability Management - Brehm</a></li>
<li class="chapter" data-level="21" data-path="c2-era-2-5-measuring-value-in-reinsurance-venter-gluck-brehm.html"><a href="c2-era-2-5-measuring-value-in-reinsurance-venter-gluck-brehm.html"><i class="fa fa-check"></i><b>21</b> C2 ERA 2.5 Measuring Value in Reinsurance - Venter, Gluck, Brehm</a></li>
<li class="chapter" data-level="22" data-path="c3-era-3-1-considerations-on-implementing-internal-risk-model-mango.html"><a href="c3-era-3-1-considerations-on-implementing-internal-risk-model-mango.html"><i class="fa fa-check"></i><b>22</b> C3 ERA 3.1 Considerations on Implementing Internal Risk Model - Mango</a></li>
<li class="chapter" data-level="23" data-path="c3-era-3-2-modeling-parameter-uncertainty-venter-gluck.html"><a href="c3-era-3-2-modeling-parameter-uncertainty-venter-gluck.html"><i class="fa fa-check"></i><b>23</b> C3 ERA 3.2 Modeling Parameter Uncertainty - Venter, Gluck</a></li>
<li class="chapter" data-level="24" data-path="c3-era-3-3-modeling-and-dependency-correlations-and-copulas-g-venter.html"><a href="c3-era-3-3-modeling-and-dependency-correlations-and-copulas-g-venter.html"><i class="fa fa-check"></i><b>24</b> C3 ERA 3.3 Modeling and Dependency: Correlations and Copulas - G. Venter</a></li>
<li class="chapter" data-level="25" data-path="c4-era-4-1-4-2-operational-and-strategic-risk-d-mango-g-venter.html"><a href="c4-era-4-1-4-2-operational-and-strategic-risk-d-mango-g-venter.html"><i class="fa fa-check"></i><b>25</b> C4 ERA 4.1 &amp; 4.2 Operational and Strategic Risk - D. Mango, G. Venter</a></li>
<li class="chapter" data-level="26" data-path="c5-era-5-4-approaches-to-modeling-the-underwriting-cycle-major.html"><a href="c5-era-5-4-approaches-to-modeling-the-underwriting-cycle-major.html"><i class="fa fa-check"></i><b>26</b> C5 ERA 5.4 Approaches to Modeling the Underwriting Cycle - Major</a></li>
<li class="part"><span><b>IV Overall Summary</b></span></li>
<li class="chapter" data-level="27" data-path="exam-7-2016-overall-summary.html"><a href="exam-7-2016-overall-summary.html"><i class="fa fa-check"></i><b>27</b> Exam 7 2016 Overall Summary</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="divider"></li>
<li><a href="https://bookdown.org">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CAS Exam 7 Study Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix-b-intro-to-bayesian-mcmc-models" class="section level2">
<h2><span class="header-section-number">11.10</span> Appendix B: Intro to Bayesian MCMC Models</h2>
<div class="rmdtip">
<p>
Just additional background information, not part of exam syllabus
</p>
</div>

<div class="definition">
<p><span id="def:markov-chain-meyers" class="definition"><strong>Definition 11.1 </strong></span>Markov Chain</p>
<p>Random process where the transition to the next state depends only on its current state and not on prior states</p>
<p>A Markov chain <span class="math inline">\(X_t\)</span> for <span class="math inline">\(t=1,2,...\)</span> is a sequence of vectors satisfying the property that</p>
<p><span class="math display">\[\Pr(X_{t+1} = x \mid X_1 = x_1, X_2 = x_2,...,X_t = x_t) = \Pr(X_{t+1} \mid X_t = x_t)\]</span></p>
</div>
<p></p>
<p>Key properties of Markov chain ofr Bayesian MCMC</p>
<ul>
<li><p>Ergodic class of Markov chain, for which vectors <span class="math inline">\(\{X_t\}\)</span> approaches a limiting distribution</p>
<p>As <span class="math inline">\(T\)</span> increases, the distribution of <span class="math inline">\(\{X_t\}\)</span> for all <span class="math inline">\(t&gt;T\)</span> approaches a unique limiting distribution</p></li>
<li><p>Markov chains used in Bayesian MCMC (e.g. Metropolis Hastings algorithm) are members of Ergodic class</p></li>
</ul>
<p>Let <span class="math inline">\(x\)</span> be a vector of observations and let <span class="math inline">\(y\)</span> be a vector of parameters in a model</p>
<ul>
<li><p>In Bayesian MCMC, the Markov chain is defined in terms of the prior distribution <span class="math inline">\(p(y)\)</span> and the conditional distribution <span class="math inline">\(f(x \mid y)\)</span></p></li>
<li><p>The limiting distribtuion is the posterior distribution <span class="math inline">\(f(y \mid x)\)</span></p></li>
<li><p>If we let the chain run <em>long enough</em>, the chain will randomly visit all states with frequency that is proportional to their posterior probabilities</p></li>
</ul>
<p>The operative phrase above is <strong>long enough</strong>, which means in practice:</p>
<ol style="list-style-type: decimal">
<li><p>Develop algorithm for obtaining a chain that is <em>long enough</em> as quickly as possible</p></li>
<li><p>Develop criteria for being <em>long enough</em></p></li>
</ol>
<div id="how-bayesian-mcmc-works-in-practice" class="section level3">
<h3><span class="header-section-number">11.10.1</span> How Bayesian MCMC works in practice</h3>
<ol style="list-style-type: decimal">
<li><p>User specifies <span class="math inline">\(p(y)\)</span> and <span class="math inline">\(f(x \mid y)\)</span></p></li>
<li><p>User selects a starting vector <span class="math inline">\(x_1\)</span></p>
<p>Using computer simulation, runs the Markov chain through a sufficiently large number, <span class="math inline">\(t_1\)</span>, of iterations</p>
<p>This first phase of the simulation is called the “adaptive” phase</p>
<ul>
<li><p>The algorithm is automatically modified to increase its efficiency</p></li>
<li><p>See below on the <a href="appendix-b-intro-to-bayesian-mcmc-models.html#meyers-mh-algo">Metropolis-Hasting alogrithm</a></p></li>
</ul></li>
<li><p>User runs an additional <span class="math inline">\(t_2\)</span> iterations</p>
<p>This is the “burn-in” phase</p>
<p><span class="math inline">\(t_2\)</span> is selected to be high enough so that a sample taken from subsequent <span class="math inline">\(t_3\)</span> periods represents the posterior distribution</p></li>
<li><p>User then runs an additional <span class="math inline">\(t_3\)</span> iterations and then takes a sample, <span class="math inline">\(\{ x_t \}\)</span> from the <span class="math inline">\((t_2 + 1)\)</span><sup>th</sup> step to the <span class="math inline">\((t_2 + t_3)\)</span><sup>th</sup> step to represent the posterior distribution <span class="math inline">\(f(y \mid x)\)</span></p></li>
<li><p>From the sample, we can constructs various statistics of interest that are relevant to the problem addressed by the analysis</p></li>
</ol>
</div>
<div id="meyers-mh-algo" class="section level3">
<h3><span class="header-section-number">11.10.2</span> Metropolis-Hastings Algorithm</h3>
<p>Most common algorithms for generating Bayesian Markov chains are variants of the Metropolis-Hastings algorithm</p>
<p><em>Given</em>: <span class="math inline">\(p(y)\)</span> and <span class="math inline">\(f(x \mid y)\)</span></p>
<p>The algorithm introduces a 3<sup>rd</sup> distribution <span class="math inline">\(J(y_t \mid y_{t-1})\)</span>:</p>
<ul>
<li>“Proposal” or “jumping” distribution</li>
</ul>
<p>Given a parameter vector <span class="math inline">\(y_{t-1}\)</span> the algorithm generates a Markov chain by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Select a candiate value <span class="math inline">\(y^*\)</span>, at random from the proposal distribution <span class="math inline">\(J(y_t \mid y_{t-1})\)</span></p></li>
<li><p>Computer the ratio</p></li>
</ol>
<p><span class="math display">\[R \equiv R_1 \times R_2 = \dfrac{f(x \mid y^*) \cdot p(y^*)}{f(x \mid y_{t-1}) \cdot p(y_{t-1})} \times \dfrac{J(y_{t-1} \mid y^*)}{J(y^* \mid y_{t-1})}\]</span></p>
<ol start="3" style="list-style-type: decimal">
<li><p>Select <span class="math inline">\(U\)</span> at random from <span class="math inline">\(U(0,1)\)</span> distribution</p></li>
<li><p>If <span class="math inline">\(U &lt; R\)</span> then set <span class="math inline">\(y_t = y^*\)</span>, else <span class="math inline">\(y_t = y_{t-1}\)</span></p></li>
</ol>

<div class="remark">
<p><span class="remark"><em>Remark. </em></span> </p>
<ul>
<li><p><span class="math inline">\(R_1\)</span> represents the ratio of the posterior probability of the proposal <span class="math inline">\(y^*\)</span> to the posterior probability of <span class="math inline">\(y_{t-1}\)</span></p></li>
<li><p>The higher the value of <span class="math inline">\(R_1\)</span>, the more likely will be accepted into the chain</p></li>
<li>Regardless of how the proposal density distribution is chosen, the distribution of <span class="math inline">\(y_t\)</span> can be regarded as a sample from the posterior distribution, after a suitable burn-in period
</div>
<p></p></li>
</ul>
<p><strong>Example</strong></p>
<ul>
<li><p>We can look at <em>trace plots</em> to look at the value of the parameter as the chain progresses</p></li>
<li><p>More on how it might break in the paper…</p></li>
<li><p>The key is to be able to scale the proposal distribution to minimize autocorrelation</p>
<ul>
<li>This is difficult with many parameters</li>
</ul></li>
</ul>
<p><strong>Minimizing autocorrelation</strong> in Metropolis-Hasting</p>
<ul>
<li><p>A good statistics to look at is the acceptance rate of <span class="math inline">\(y^*\)</span></p></li>
<li><p>50% is near optimal for a one parameter model and the rate decreases to about 25% as we increase the number of parameters in the model</p></li>
<li><p>There are methods to automatically adjust the proposal density function in Metropolis-Hastins</p></li>
<li><p>All these have been mechanized in software like JAGS and STAN</p></li>
<li><p>The phase of generating the Markov chain where the proposal density function is optimized is called the “adaptive” state (as discussed above)</p></li>
</ul>
<p>As models become more complex, adaptive MCMC may not be good enough to eliminate the autocorrelation</p>
<ul>
<li><p>Theory on Markov chain convergence will still hold but there is no guarantee on how fast it will converge</p></li>
<li><p>If there is significance autocorrelation after the best scaling effort, the next best practice is to increase <span class="math inline">\(t_3\)</span> until there are sufficient number of ups and downs in the trace plot and then take a sample of the <span class="math inline">\((t_1 + t_2 +1)\)</span><sup>th</sup> to <span class="math inline">\((t_1 + t_2 + t_3)\)</span><sup>th</sup> iterations</p>
<ul>
<li>This process is known as “thinning”</li>
</ul></li>
</ul>
</div>
<div id="usecase-example-for-actuaries" class="section level3">
<h3><span class="header-section-number">11.10.3</span> Usecase Example for Actuaries</h3>
<p>Look at how the posterior distribution of <span class="math inline">\(\mu\)</span> might be of interest</p>
<p>Consider a fitted lognormal distribution for a set of claims to determine the cost of an XS layer</p>
<p>Given <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> of the lognormal we can determine the cost of an XS layer (see Klugman, Panjer, and Willmot and the actuar package)</p>
<p>As the posterior distribution of <span class="math inline">\(\mu\)</span> reflects the parameter risk in the model, it is also possible to reflect the parameter risk in the expected cost of a layer by calculating the expected cost of the layer for each <span class="math inline">\(\mu\)</span> in the simulated posterior distribution</p>
<p>It is possible to simulate an actual outcome of a loss <span class="math inline">\(X\)</span> in a layer given <span class="math inline">\(\mu\)</span> in the posterior distribution</p>
<p>The distribution <span class="math inline">\(X\)</span> calculated this way reflects both the parameter risk and process risk in the model</p>
</div>
<div id="bayesian-interence-using-gibbs-sampling-bugs" class="section level3">
<h3><span class="header-section-number">11.10.4</span> Bayesian interence Using Gibbs Sampling (BUGS)</h3>
<p>WinBUGS, JAGS are examples of software using Gibbs sampling</p>
<p>Sample work process:</p>
<ol style="list-style-type: decimal">
<li><p>Read data into R and call JAGS script with R package “runjags”</p></li>
<li><p>Fetch the sample of the posterior back into R to calculate statistics of interest</p></li>
</ol>
<p>JAGS perform the Metropolis-Hasting algorithm we described above</p>
<p>It also has a number of convergence diagnostics</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="conclusion.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="past-exam-questions.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": false,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cliffordlau/Exam-7-2016-Notes/edit/master/11-Meyers.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
